(this["webpackJsonpreact-apollo-github-top-js-repos"]=this["webpackJsonpreact-apollo-github-top-js-repos"]||[]).push([[0],{21:function(e,t,a){e.exports={table:"Table_table__3cVv6",thead:"Table_thead__1OMLY",tr:"Table_tr__12T8R",th:"Table_th__2sVy3",td:"Table_td__aBNTH",tbody:"Table_tbody__28b1x",empty:"Table_empty__369-5"}},26:function(e,t,a){e.exports={header:"Header_header__2wsdt",headerItem:"Header_headerItem__1u1Dh",headerField:"Header_headerField__25CKP"}},41:function(e,t,a){e.exports={PaginationWrapper:"Pagination_PaginationWrapper__UdflU",responsiveButton:"Pagination_responsiveButton__2kd1P"}},42:function(e,t,a){e.exports={loader:"Loader_loader__1j2Bs",loaderText:"Loader_loaderText__2-E48",loading:"Loader_loading__3Z7Q5"}},69:function(e,t,a){e.exports={buttonComponent:"Button_buttonComponent__XryM_"}},70:function(e,t,a){e.exports={Error:"Error_Error__3f4kP"}},73:function(e,t,a){e.exports={textInput:"TextInput_textInput__23uMr"}},74:function(e,t,a){e.exports={select:"Select_select__3UVD7"}},76:function(e,t,a){e.exports={onlineStatus:"OnlineStatus_onlineStatus__1k6dl"}},77:function(e,t,a){e.exports=a(95)},95:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),o=a(64),c=a.n(o),s=(a(82),a(18)),i=a(46),l=a(65),u=Object(s.createHttpLink)({uri:"https://api.github.com/graphql"}),d=Object(l.a)((function(e,t){var a=t.headers,n="9001eb0bf0b4b37d104601fd5c20e02c8bc84f52";return{headers:Object(i.a)(Object(i.a)({},a),{},{authorization:"Bearer ".concat(n)})}})),m=new s.ApolloClient({uri:"https://api.github.com/graphql",cache:new s.InMemoryCache,link:d.concat(u)}),f=a(43),b=a(98),p=a(68),g=a.n(p),h=a(17),v=a(23),_=a.n(v),E=a(69),y=a.n(E),N=function(e){var t=e.children,a=e.className,n=e.onClick,o=Object(h.a)(e,["children","className","onClick"]);return r.a.createElement("button",Object.assign({className:_()(y.a.buttonComponent,a),onClick:n},o),t)};N.defaultProps={onClick:function(){}};var k=a(41),O=a.n(k),j=function(e){var t=e.onPrevClick,a=e.onNextClick,n=e.isPrevDisabled,o=e.isNextDisabled;return r.a.createElement("div",{className:O.a.PaginationWrapper},r.a.createElement(N,{className:O.a.responsiveButton,"data-testid":"button-prev",disabled:n,onClick:t},"<"," Prev"),r.a.createElement(N,{className:O.a.responsiveButton,"data-testid":"button-next",disabled:o,onClick:a},"Next ",">"))};j.defaultProps={isPrevDisabled:!0,isNextDisabled:!1};var C=a(21),x=a.n(C),P=function(e){var t=e.columns,a=e.data,n=e.error,o=Object.keys(t);return r.a.createElement("div",{className:x.a.table},r.a.createElement("div",{className:x.a.thead},r.a.createElement("div",{className:x.a.tr},o.map((function(e){return r.a.createElement("div",{className:x.a.th,key:e},t[e])})))),r.a.createElement("div",{className:x.a.tbody},n||null,!n&&(!a||a&&!a.length)&&r.a.createElement("div",{className:x.a.empty},"No data"),a.map((function(e){return r.a.createElement("div",{className:x.a.tr,key:e.key},o.map((function(a){return r.a.createElement("div",{className:x.a.td,key:a,"data-label":t[a]},e[a]||"---")})))}))))};P.defaultProps={columns:{},data:[],error:!1};var S=a(29),I=a(42),B=a.n(I),w=function(e){var t,a=e.children,n=e.loading,o=e.className,c=Object(h.a)(e,["children","loading","className"]);return r.a.createElement("div",Object.assign({className:B.a.loader},c),r.a.createElement("div",{className:_()((t={},Object(S.a)(t,B.a.loaderText,!0),Object(S.a)(t,B.a.loading,n),t),o)},"Loading data ..."),a)},D=a(70),q=a.n(D),A=Object(n.memo)((function(e){var t=e.text;return r.a.createElement("div",{className:q.a.Error},t)}));A.defaultProps={text:"Error"},A.displayName="Error";var L=a(39),T=a(40);function M(){var e=Object(L.a)(["\n  query GetListLicensies {\n    licenses {\n      id\n      name\n      key\n    }\n  }\n"]);return M=function(){return e},e}var $=Object(T.a)(M());function R(){var e=Object(L.a)(["\n  query GetListRepositories($queryString: String!, $cursorAfter: String, $cursorBefore: String, $first: Int, $last: Int) {\n    search(query: $queryString, first: $first, last: $last, after: $cursorAfter, before: $cursorBefore, type: REPOSITORY) {\n      repositoryCount\n      edges {\n        node {\n          ... on Repository {\n            id\n            name\n            stargazers {\n              totalCount\n            }\n            licenseInfo {\n              name\n            }\n            updatedAt\n            createdAt\n          }\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"]);return R=function(){return e},e}var F=Object(T.a)(R()),H=function(e){var t=e.fetchMore,a=e.queryString,n=e.cursorBefore,r=e.cursorAfter,o=e.limit;return t({variables:{queryString:a,cursorBefore:n,cursorAfter:r,last:n?o||10:null,first:r?o||10:null},notifyOnNetworkStatusChange:!0,updateQuery:function(e,t){var a=t.fetchMoreResult;return a||e}})},W=function(e){var t=e.queryString,a=e.limit,o=Object(s.useQuery)(F,{variables:{queryString:t,cursorAfter:null,first:a}}),c=o.data,i=o.error,l=o.loading,u=o.fetchMore,d=Object(n.useMemo)((function(){return c&&c.search&&c.search.edges||[]}),[c]),m=Object(n.useMemo)((function(){return d.map((function(e){return{key:e.node.id,name:e.node.name,stars:e.node.stargazers&&e.node.stargazers.totalCount,license:e.node.licenseInfo&&e.node.licenseInfo.name,date:e.node.createdAt}}))}),[d]),f=!!i&&r.a.createElement(A,{text:"Repositories list loading error."}),b=function(e){var t=null,a=null,n=!0,r=!0;return e&&(t=e&&e.startCursor,a=e&&e.endCursor,n=e&&!e.hasPreviousPage,r=e&&!e.hasNextPage),{cursorBefore:t,cursorAfter:a,isPreviousDisabled:n,isNextDisabled:r}}(c&&c.search&&c.search.pageInfo);return r.a.createElement(w,{loading:l,"data-testif":"repositories-list-loading"},r.a.createElement(P,{columns:{name:"Name",stars:"Stars",license:"License",date:"Date"},data:m,error:f}),r.a.createElement(j,{onPrevClick:function(){return H({fetchMore:u,queryString:t,cursorBefore:b.cursorBefore,limit:a})},onNextClick:function(){return H({fetchMore:u,queryString:t,cursorAfter:b.cursorAfter,limit:a})},isPrevDisabled:b.isPreviousDisabled,isNextDisabled:b.isNextDisabled}))};g.a.defaultProps={limit:10};var z=a(73),Q=a.n(z),G=function(e){var t=e.className,a=e.onChange,n=Object(h.a)(e,["className","onChange"]);return r.a.createElement("input",Object.assign({className:_()(Q.a.textInput,t),onChange:a},n))},J=a(74),U=a.n(J),V=function(e){var t=e.className,a=e.onChange,n=e.options,o=Object(h.a)(e,["className","onChange","options"]);return r.a.createElement("select",Object.assign({disabled:!n||n&&0===n.length,className:_()(U.a.select,t),onChange:a},o),n&&n.map((function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.name)})))};V.defaultProps={onChange:function(){}};var Y=[{key:0,name:"--- Not Selected ---"}],K=function(e){var t=e.onChange,a=Object(h.a)(e,["onChange"]),n=Object(s.useQuery)($),o=n.data,c=n.loading;if(n.error)return r.a.createElement(A,{text:"Licenses loading error."});var i=o?Y.concat(o.licenses.map((function(e){return{key:e.key,name:e.name}}))):[];return r.a.createElement(w,{loading:c,"data-testid":"licenses-select-loading"},r.a.createElement(V,Object.assign({"data-testid":"licenses-select",options:i,onChange:t},a)))};K.defaultProps={onChange:function(){}};var X=a(26),Z=a.n(X),ee=Object(n.memo)((function(e){var t=e.setRepositoryName,a=e.setLicense;return r.a.createElement("div",{className:Z.a.header},r.a.createElement("div",{className:Z.a.headerItem},r.a.createElement("label",null,"Search by repo name "),r.a.createElement(G,{"data-testid":"search-by-name",className:Z.a.headerField,name:"search",placeholder:"Search by repository name",onChange:function(e){return t(e.target.value)}})),r.a.createElement("div",{className:Z.a.headerItem},r.a.createElement("label",null,"License type"),r.a.createElement(K,{className:Z.a.headerField,onChange:function(e){return a(e.target.value)}})))}));ee.displayName="Header";var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:">=",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;t.setDate(1);var a=t.getFullYear(),n=t.getMonth()+1;n=n>9?n:"0".concat(n);var r=t.getDate();return r=r>9?r:"0".concat(r),"created:".concat(e).concat(a,"-").concat(n,"-").concat(r)},ae=function(e){return e&&0!==+e?"license:".concat(e):""},ne=function(e){return e?"".concat(e," in:name"):""},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc";return e?"sort:".concat(e,"-").concat(t):""},oe=function(){var e,t=Object(n.useState)(null),a=Object(f.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(null),i=Object(f.a)(s,2),l=i[0],u=i[1],d=Object(b.a)(l,300),m=Object(f.a)(d,1)[0],p=[re("stars","desc"),(e="JavaScript",e?"language:".concat(e):""),te(),ae(o),ne(m)].join(" ");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{setLicense:c,setRepositoryName:u}),r.a.createElement(W,{queryString:p,limit:10}))},ce=a(75),se=a.n(ce),ie=a(76),le=a.n(ie),ue=function(e){var t=e.children,a=se()();return r.a.createElement(r.a.Fragment,null,!a&&r.a.createElement("div",{className:le.a.onlineStatus},r.a.createElement(A,{text:"No network connection. Please reload page or enable network connection."})),t)};var de=function(){var e=Boolean("9001eb0bf0b4b37d104601fd5c20e02c8bc84f52"),t=function(){var e=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 personal-access-token \u043e\u0442 Github, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 API");localStorage.setItem("token",e),window.location="/"};return Object(n.useEffect)((function(){e||t()}),[e]),r.a.createElement(ue,null,r.a.createElement("div",{style:{padding:"15px 15px 0"}},"\u0415\u0441\u043b\u0438 \u0432\u044b \u0432\u0432\u0435\u0434\u0435\u0442\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 personal-access-token, \u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 401 \u043e\u0448\u0438\u0431\u043a\u0443, \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:t},"\u0412\u0432\u0435\u0441\u0442\u0438 personal-access-token \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e")),r.a.createElement(s.ApolloProvider,{client:m},r.a.createElement(oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[77,1,2]]]);
//# sourceMappingURL=main.78251cce.chunk.js.map